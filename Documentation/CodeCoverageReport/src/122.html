<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\andre\Source\School\BDSA2021-FinalProject\WebService.Core.Server.Tests\ModelTests\ContentGeneratorTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
// ***********************************************************************
// Assembly         : WebService.Core.Server.Tests
// Author           : Group BTG
// Created          : 12-14-2021
//
// Last Modified By : Group BTG
// Last Modified On : 12-14-2021
// ***********************************************************************
// &lt;copyright file=&quot;ContentGeneratorTests.cs&quot; company=&quot;BTG&quot;&gt;
//     Copyright (c) . All rights reserved.
// &lt;/copyright&gt;
// &lt;summary&gt;&lt;/summary&gt;
// ***********************************************************************

using System;
using System.Linq;
using WebService.Core.Server.Model;

namespace WebService.Core.Server.Tests.ModelTests;

/// &lt;summary&gt;
///     Class ContentGeneratorTests.
/// &lt;/summary&gt;
public class ContentGeneratorTests
{
    /// &lt;summary&gt;
    ///     Defines the test method GenerateTitle_given_no_tags_should_return_success_false.
    /// &lt;/summary&gt;
    [Fact]
    public void GenerateTitle_given_no_tags_should_return_success_false()
    {
        var tags = new List&lt;CreateWeightedTagDTO&gt;();

        var (ok, _) = ContentGenerator.GenerateTitle(tags);

        Assert.False(ok);
    }

    /// &lt;summary&gt;
    ///     Defines the test method GenerateTitle_given_tag_docker_should_return_title_containing_docker.
    /// &lt;/summary&gt;
    [Fact]
    public void GenerateTitle_given_tag_docker_should_return_title_containing_docker()
    {
        const string tagName = &quot;docker&quot;;
        var tags = CreateTags(tagName);
        Assert.Single(tags);

        var (ok, title) = ContentGenerator.GenerateTitle(tags);

        Assert.True(ok);
        Assert.Contains(tagName, title);
        Assert.True(tagName.Length &lt; title.Length);
    }

    /// &lt;summary&gt;
    ///     Defines the test method GenerateTitle_given_tags_docker_kubernetes_return_title_containing_both.
    /// &lt;/summary&gt;
    [Fact]
    public void GenerateTitle_given_tags_docker_kubernetes_return_title_containing_both()
    {
        var tagNames = new[]
        {
            &quot;docker&quot;,
            &quot;kubernetes&quot;
        };
        var tags = CreateTags(tagNames);

        var (ok, title) = ContentGenerator.GenerateTitle(tags);

        Assert.True(ok);
        Assert.True(tagNames.Sum(n =&gt; n.Length) &lt; title.Length);
        foreach (var tag in tagNames) Assert.Contains(tag, title);

        Assert.Contains(&quot;docker and kubernetes&quot;, title);
    }

    /// &lt;summary&gt;
    ///     Defines the test method
    ///     GenerateTitle_given_tags_docker_kubernetes_azure_return_title_containing_all_with_comma_and_and_separation.
    /// &lt;/summary&gt;
    [Fact]
    public void
        GenerateTitle_given_tags_docker_kubernetes_azure_return_title_containing_all_with_comma_and_and_separation()
    {
        var tagNames = new[]
        {
            &quot;docker&quot;,
            &quot;kubernetes&quot;,
            &quot;azure&quot;
        };
        var tags = CreateTags(tagNames);

        var (ok, title) = ContentGenerator.GenerateTitle(tags);

        Assert.True(ok);
        Assert.True(tagNames.Sum(n =&gt; n.Length) &lt; title.Length);
        Assert.Contains(&quot;docker, kubernetes and azure&quot;, title);
    }


    /// &lt;summary&gt;
    ///     Defines the test method LanguageToString_converts_correctly_from_language_to_string.
    /// &lt;/summary&gt;
    /// &lt;param name=&quot;lang&quot;&gt;The language.&lt;/param&gt;
    /// &lt;param name=&quot;expected&quot;&gt;The expected.&lt;/param&gt;
    [Theory]
    [InlineData(ContentGenerator.Language.English, &quot;english&quot;)]
    [InlineData(ContentGenerator.Language.Russian, &quot;russian&quot;)]
    [InlineData(ContentGenerator.Language.Danish, &quot;danish&quot;)]
    [InlineData(ContentGenerator.Language.Italian, &quot;italian&quot;)]
    public void LanguageToString_converts_correctly_from_language_to_string(ContentGenerator.Language lang,
        string expected)
    {
        var (ok, actual) = ContentGenerator.LanguageToString(lang);

        Assert.True(ok);
        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method StringToLanguage_converts_magical_strings_to_languages.
    /// &lt;/summary&gt;
    /// &lt;param name=&quot;input&quot;&gt;The input.&lt;/param&gt;
    /// &lt;param name=&quot;expected&quot;&gt;The expected.&lt;/param&gt;
    [Theory]
    [InlineData(&quot;danish&quot;, ContentGenerator.Language.Danish)]
    [InlineData(&quot;english&quot;, ContentGenerator.Language.English)]
    [InlineData(&quot;italian&quot;, ContentGenerator.Language.Italian)]
    [InlineData(&quot;russian&quot;, ContentGenerator.Language.Russian)]
    public void StringToLanguage_converts_magical_strings_to_languages(string input, ContentGenerator.Language expected)
    {
        var (ok, actual) = ContentGenerator.StringToLanguage(input);

        Assert.True(ok);
        Assert.Equal(expected, actual);
    }


    /// &lt;summary&gt;
    ///     Defines the test method StringToLanguage_does_not_convert_wrong_magical_strings_to_languages.
    /// &lt;/summary&gt;
    /// &lt;param name=&quot;input&quot;&gt;The input.&lt;/param&gt;
    [Theory]
    [InlineData(&quot;&quot;)]
    [InlineData(&quot;     &quot;)]
    [InlineData(&quot;Volap&#252;k&quot;)]
    [InlineData(null)]
    public void StringToLanguage_does_not_convert_wrong_magical_strings_to_languages(string input)
    {
        var (ok, _) = ContentGenerator.StringToLanguage(input);

        Assert.False(ok);
    }

    /// &lt;summary&gt;
    ///     Creates the tags.
    /// &lt;/summary&gt;
    /// &lt;param name=&quot;tagNames&quot;&gt;The tag names.&lt;/param&gt;
    /// &lt;returns&gt;IList&amp;lt;CreateWeightedTagDTO&amp;gt;.&lt;/returns&gt;
    private static IList&lt;CreateWeightedTagDTO&gt; CreateTags(params string[] tagNames)
    {
        return Array.ConvertAll(tagNames, tag =&gt; new CreateWeightedTagDTO(tag, 0));
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[31,5,31,6,1],[32,9,32,53,1],[34,9,34,60,1],[36,9,36,26,1],[37,5,37,6,1],[44,5,44,6,1],[46,9,46,40,1],[47,9,47,29,1],[49,9,49,64,1],[51,9,51,25,1],[52,9,52,41,1],[53,9,53,52,1],[54,5,54,6,1],[61,5,61,6,1],[62,9,66,11,1],[67,9,67,41,1],[69,9,69,64,1],[71,9,71,25,1],[72,9,72,39,1],[72,39,72,47,1],[72,47,72,65,1],[73,9,73,16,1],[73,18,73,25,1],[73,26,73,28,1],[73,29,73,37,1],[73,39,73,67,1],[75,9,75,57,1],[76,5,76,6,1],[85,5,85,6,1],[86,9,91,11,1],[92,9,92,41,1],[94,9,94,64,1],[96,9,96,25,1],[97,9,97,39,1],[97,39,97,47,1],[97,47,97,65,1],[98,9,98,64,1],[99,5,99,6,1],[114,5,114,6,1],[115,9,115,68,1],[117,9,117,25,1],[118,9,118,40,1],[119,5,119,6,1],[132,5,132,6,1],[133,9,133,69,1],[135,9,135,25,1],[136,9,136,40,1],[137,5,137,6,1],[150,5,150,6,1],[151,9,151,64,1],[153,9,153,26,1],[154,5,154,6,1],[162,5,162,6,1],[163,9,163,50,1],[163,50,163,82,1],[163,82,163,84,1],[164,5,164,6,1]]);
    </script>
  </body>
</html>