<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\andre\Source\School\BDSA2021-FinalProject\WebService.Core.Server.Tests\ControllerTests\TagControllerTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
// ***********************************************************************
// Assembly         : WebService.Core.Server.Tests
// Author           : Group BTG
// Created          : 11-29-2021
//
// Last Modified By : Group BTG
// Last Modified On : 12-14-2021
// ***********************************************************************
// &lt;copyright file=&quot;TagControllerTests.cs&quot; company=&quot;BTG&quot;&gt;
//     Copyright (c) . All rights reserved.
// &lt;/copyright&gt;
// &lt;summary&gt;&lt;/summary&gt;
// ***********************************************************************

namespace WebService.Core.Server.Tests.ControllerTests;

/// &lt;summary&gt;
///     Class TagControllerTests.
/// &lt;/summary&gt;
public class TagControllerTests
{
    /// &lt;summary&gt;
    ///     The tag controller
    /// &lt;/summary&gt;
    private readonly TagController _tagController;

    /// &lt;summary&gt;
    ///     Initializes a new instance of the &lt;see cref=&quot;TagControllerTests&quot; /&gt; class.
    /// &lt;/summary&gt;
    public TagControllerTests()
    {
        var v = new TestVariables();
        _tagController = new TagController(v.TagRepository);
    }

    #region Post/Create

    /// &lt;summary&gt;
    ///     Defines the test method Post_tag_returns_status_created.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Post_tag_returns_status_created()
    {
        var tag = new CreateTagDTO(&quot;Database&quot;);

        var actual = await _tagController.Post(tag) as CreatedResult;

        Assert.Equal((int) HttpStatusCode.Created, actual?.StatusCode);
    }

    /// &lt;summary&gt;
    ///     Defines the test method Post_tag_returns_status_conflict.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Post_tag_returns_status_conflict()
    {
        var tag = new CreateTagDTO(&quot;SOLID&quot;);

        var actual = await _tagController.Post(tag) as ConflictResult;

        Assert.Equal((int) HttpStatusCode.Conflict, actual?.StatusCode);
    }

    /// &lt;summary&gt;
    ///     Defines the test method Post_tag_returns_status_badRequest.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Post_tag_returns_status_badRequest()
    {
        var tag = new CreateTagDTO(&quot;&quot;);

        var actual = await _tagController.Post(tag) as BadRequestResult;

        Assert.Equal((int) HttpStatusCode.BadRequest, actual?.StatusCode);
    }

    #endregion

    #region Get/Read

    /// &lt;summary&gt;
    ///     Defines the test method Get_all_tags_returns_status_ok.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Get_all_tags_returns_status_ok()
    {
        var response = await _tagController.Get();
        var actual = response.Result as OkObjectResult;

        Assert.Equal((int) HttpStatusCode.OK, actual?.StatusCode);
    }

    /// &lt;summary&gt;
    ///     Defines the test method Get_tag_returns_status_ok.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Get_tag_returns_status_ok()
    {
        var response = await _tagController.Get(1);
        var actual = response.Result as OkObjectResult;

        Assert.Equal((int) HttpStatusCode.OK, actual?.StatusCode);
    }

    /// &lt;summary&gt;
    ///     Defines the test method Get_tag_returns_status_notFound.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Get_tag_returns_status_notFound()
    {
        var response = await _tagController.Get(4);
        var actual = response.Result as NotFoundResult;

        Assert.Equal((int) HttpStatusCode.NotFound, actual?.StatusCode);
    }

    #endregion

    #region Delete

    /// &lt;summary&gt;
    ///     Defines the test method Delete_tag_returns_status_noContent.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Delete_tag_returns_status_noContent()
    {
        var response = await _tagController.Delete(3);
        var actual = response as NoContentResult;

        Assert.Equal((int) HttpStatusCode.NoContent, actual?.StatusCode);
    }

    /// &lt;summary&gt;
    ///     Defines the test method Delete_tag_returns_status_notFound.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Delete_tag_returns_status_notFound()
    {
        var response = await _tagController.Delete(4);
        var actual = response as NotFoundResult;

        Assert.Equal((int) HttpStatusCode.NotFound, actual?.StatusCode);
    }

    #endregion

    #region Put/Update

    /// &lt;summary&gt;
    ///     Defines the test method Put_tag_returns_status_noContent.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Put_tag_returns_status_noContent()
    {
        var tag = new TagDTO(1, &quot;Database&quot;);
        var response = await _tagController.Put(tag);
        var actual = response as NoContentResult;

        Assert.Equal((int) HttpStatusCode.NoContent, actual?.StatusCode);
    }

    /// &lt;summary&gt;
    ///     Defines the test method Put_tag_returns_status_conflict.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Put_tag_returns_status_conflict()
    {
        var tag = new TagDTO(1, &quot;API&quot;);
        var response = await _tagController.Put(tag);
        var actual = response as ConflictResult;

        Assert.Equal((int) HttpStatusCode.Conflict, actual?.StatusCode);
    }

    /// &lt;summary&gt;
    ///     Defines the test method Put_tag_returns_status_badRequest.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Put_tag_returns_status_badRequest()
    {
        var tag = new TagDTO(1, &quot;&quot;);
        var response = await _tagController.Put(tag);
        var actual = response as BadRequestResult;

        Assert.Equal((int) HttpStatusCode.BadRequest, actual?.StatusCode);
    }

    /// &lt;summary&gt;
    ///     Defines the test method Put_tag_returns_status_notFound.
    /// &lt;/summary&gt;
    [Fact]
    public async Task Put_tag_returns_status_notFound()
    {
        var tag = new TagDTO(4, &quot;Database&quot;);
        var response = await _tagController.Put(tag);
        var actual = response as NotFoundResult;

        Assert.Equal((int) HttpStatusCode.NotFound, actual?.StatusCode);
    }

    #endregion
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[30,5,30,32,1],[31,5,31,6,1],[32,9,32,37,1],[33,9,33,61,1],[34,5,34,6,1],[43,5,43,6,1],[44,9,44,48,1],[46,9,46,70,1],[48,9,48,72,1],[49,5,49,6,1],[56,5,56,6,1],[57,9,57,45,1],[59,9,59,71,1],[61,9,61,73,1],[62,5,62,6,1],[69,5,69,6,1],[70,9,70,40,1],[72,9,72,73,1],[74,9,74,75,1],[75,5,75,6,1],[86,5,86,6,1],[87,9,87,51,1],[88,9,88,56,1],[90,9,90,67,1],[91,5,91,6,1],[98,5,98,6,1],[99,9,99,52,1],[100,9,100,56,1],[102,9,102,67,1],[103,5,103,6,1],[110,5,110,6,1],[111,9,111,52,1],[112,9,112,56,1],[114,9,114,73,1],[115,5,115,6,1],[126,5,126,6,1],[127,9,127,55,1],[128,9,128,50,1],[130,9,130,74,1],[131,5,131,6,1],[138,5,138,6,1],[139,9,139,55,1],[140,9,140,49,1],[142,9,142,73,1],[143,5,143,6,1],[154,5,154,6,1],[155,9,155,45,1],[156,9,156,54,1],[157,9,157,50,1],[159,9,159,74,1],[160,5,160,6,1],[167,5,167,6,1],[168,9,168,40,1],[169,9,169,54,1],[170,9,170,49,1],[172,9,172,73,1],[173,5,173,6,1],[180,5,180,6,1],[181,9,181,37,1],[182,9,182,54,1],[183,9,183,51,1],[185,9,185,75,1],[186,5,186,6,1],[193,5,193,6,1],[194,9,194,45,1],[195,9,195,54,1],[196,9,196,49,1],[198,9,198,73,1],[199,5,199,6,1]]);
    </script>
  </body>
</html>