<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\andre\Source\School\BDSA2021-FinalProject\WebService.Infrastructure.Tests\ContextRepositoryTests\ProgrammingLanguageRepositoryTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
// ***********************************************************************
// Assembly         : WebService.Infrastructure.Tests
// Author           : Group BTG
// Created          : 11-29-2021
//
// Last Modified By : Group BTG
// Last Modified On : 12-14-2021
// ***********************************************************************
// &lt;copyright file=&quot;ProgrammingLanguageRepositoryTests.cs&quot; company=&quot;BTG&quot;&gt;
//     Copyright (c) . All rights reserved.
// &lt;/copyright&gt;
// &lt;summary&gt;&lt;/summary&gt;
// ***********************************************************************

using System.Diagnostics.CodeAnalysis;

namespace WebService.Infrastructure.Tests.ContextRepositoryTests;

/// &lt;summary&gt;
///     Class ProgrammingProgrammingLanguageRepositoryTests.
/// &lt;/summary&gt;
[SuppressMessage(&quot;ReSharper&quot;, &quot;StringLiteralTypo&quot;)]
public class ProgrammingProgrammingLanguageRepositoryTests
{
    /// &lt;summary&gt;
    ///     The v
    /// &lt;/summary&gt;
    private readonly TestVariables _v;

    /// &lt;summary&gt;
    ///     Initializes a new instance of the &lt;see cref=&quot;ProgrammingProgrammingLanguageRepositoryTests&quot; /&gt; class.
    /// &lt;/summary&gt;
    public ProgrammingProgrammingLanguageRepositoryTests()
    {
        _v = new TestVariables();
    }

    #region Create

    /// &lt;summary&gt;
    ///     Defines the test method CreateAsync_programmingLanguage_returns_new_programmingLanguage_with_id.
    /// &lt;/summary&gt;
    [Fact]
    public async Task CreateAsync_programmingLanguage_returns_new_programmingLanguage_with_id()
    {
        var programmingLanguage = new CreateProgrammingLanguageDTO(&quot;Java&quot;);

        var actual = await _v.ProgrammingLanguageRepository.CreateAsync(programmingLanguage);

        var expected = (Status.Created, new ProgrammingLanguageDTO(4, &quot;Java&quot;));

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method CreateAsync_programmingLanguage_returns_conflict_and_existing_programmingLanguage.
    /// &lt;/summary&gt;
    [Fact]
    public async Task CreateAsync_programmingLanguage_returns_conflict_and_existing_programmingLanguage()
    {
        var programmingLanguage = new CreateProgrammingLanguageDTO(&quot;F#&quot;);

        var actual = await _v.ProgrammingLanguageRepository.CreateAsync(programmingLanguage);

        var expected = (Status.Conflict, new ProgrammingLanguageDTO(3, &quot;F#&quot;));

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method CreateAsync_programmingLanguage_returns_count_one_more.
    /// &lt;/summary&gt;
    [Fact]
    public async Task CreateAsync_programmingLanguage_returns_count_one_more()
    {
        var programmingLanguage = new CreateProgrammingLanguageDTO(&quot;Java&quot;);

        await _v.ProgrammingLanguageRepository.CreateAsync(programmingLanguage);

        var actual = _v.ProgrammingLanguageRepository.ReadAsync().Result.Count;

        const int expected = 4;

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method CreateAsync_programmingLanguage_returns_bad_request_on_name_tooLong.
    /// &lt;/summary&gt;
    [Fact]
    public async Task CreateAsync_programmingLanguage_returns_bad_request_on_name_tooLong()
    {
        var programmingLanguage =
            new CreateProgrammingLanguageDTO(&quot;asseocarnisanguineoviscericartilaginonervomedullary&quot;);

        var actual = await _v.ProgrammingLanguageRepository.CreateAsync(programmingLanguage);

        var expected = (Status.BadRequest,
            new ProgrammingLanguageDTO(-1, &quot;asseocarnisanguineoviscericartilaginonervomedullary&quot;));

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method CreateAsync_programmingLanguage_returns_bad_request_on_name_empty.
    /// &lt;/summary&gt;
    [Fact]
    public async Task CreateAsync_programmingLanguage_returns_bad_request_on_name_empty()
    {
        var programmingLanguage = new CreateProgrammingLanguageDTO(&quot;&quot;);

        var actual = await _v.ProgrammingLanguageRepository.CreateAsync(programmingLanguage);

        var expected = (Status.BadRequest, new ProgrammingLanguageDTO(-1, &quot;&quot;));

        Assert.Equal(expected, actual);
    }


    /// &lt;summary&gt;
    ///     Defines the test method CreateAsync_programmingLanguage_returns_bad_request_on_name_whitespace.
    /// &lt;/summary&gt;
    [Fact]
    public async Task CreateAsync_programmingLanguage_returns_bad_request_on_name_whitespace()
    {
        var programmingLanguage = new CreateProgrammingLanguageDTO(&quot; &quot;);

        var actual = await _v.ProgrammingLanguageRepository.CreateAsync(programmingLanguage);

        var expected = (Status.BadRequest, new ProgrammingLanguageDTO(-1, &quot; &quot;));

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method CreateAsync_programmingLanguage_with_max_length_returns_new_language_with_id.
    /// &lt;/summary&gt;
    [Fact]
    public async Task CreateAsync_programmingLanguage_with_max_length_returns_new_language_with_id()
    {
        var programmingLanguage =
            new CreateProgrammingLanguageDTO(&quot;asseocarnisanguineoviscericartilaginonervomedullar&quot;);

        var actual = await _v.ProgrammingLanguageRepository.CreateAsync(programmingLanguage);

        var expected = (Status.Created,
            new ProgrammingLanguageDTO(4, &quot;asseocarnisanguineoviscericartilaginonervomedullar&quot;));

        Assert.Equal(expected, actual);
    }

    #endregion

    #region Read

    /// &lt;summary&gt;
    ///     Defines the test method ReadAsync_programmingLanguage_by_id_returns_programmingLanguage_and_status_found.
    /// &lt;/summary&gt;
    [Fact]
    public async Task ReadAsync_programmingLanguage_by_id_returns_programmingLanguage_and_status_found()
    {
        var actual = await _v.ProgrammingLanguageRepository.ReadAsync(1);

        var expected = (Status.Found, new ProgrammingLanguageDTO(1, &quot;C#&quot;));

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method ReadAsync_programmingLanguage_by_id_returns_empty_programmingLanguage_and_status_notFound.
    /// &lt;/summary&gt;
    [Fact]
    public async Task ReadAsync_programmingLanguage_by_id_returns_empty_programmingLanguage_and_status_notFound()
    {
        var actual = await _v.ProgrammingLanguageRepository.ReadAsync(4);

        var expected = (Status.NotFound, new ProgrammingLanguageDTO(-1, &quot;&quot;));

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method ReadAllAsync_returns_all_programmingLanguages.
    /// &lt;/summary&gt;
    [Fact]
    public async Task ReadAllAsync_returns_all_programmingLanguages()
    {
        var actual = await _v.ProgrammingLanguageRepository.ReadAsync();

        var expected1 = new ProgrammingLanguageDTO(1, &quot;C#&quot;);
        var expected2 = new ProgrammingLanguageDTO(2, &quot;C++&quot;);
        var expected3 = new ProgrammingLanguageDTO(3, &quot;F#&quot;);

        Assert.Collection(actual,
            programmingLanguageDTO =&gt; Assert.Equal(expected1, programmingLanguageDTO),
            programmingLanguageDTO =&gt; Assert.Equal(expected2, programmingLanguageDTO),
            programmingLanguageDTO =&gt; Assert.Equal(expected3, programmingLanguageDTO));
    }

    #endregion

    #region Delete

    /// &lt;summary&gt;
    ///     Defines the test method DeleteAsync_programmingLanguage_by_id_returns_status_deleted.
    /// &lt;/summary&gt;
    [Fact]
    public async Task DeleteAsync_programmingLanguage_by_id_returns_status_deleted()
    {
        var actual = await _v.ProgrammingLanguageRepository.DeleteAsync(1);

        const Status expected = Status.Deleted;

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method DeleteAsync_programmingLanguage_by_id_returns_status_notFound.
    /// &lt;/summary&gt;
    [Fact]
    public async Task DeleteAsync_programmingLanguage_by_id_returns_status_notFound()
    {
        var actual = await _v.ProgrammingLanguageRepository.DeleteAsync(4);

        const Status expected = Status.NotFound;

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method DeleteAsync_programmingLanguage_by_id_returns_count_one_less.
    /// &lt;/summary&gt;
    [Fact]
    public async Task DeleteAsync_programmingLanguage_by_id_returns_count_one_less()
    {
        await _v.ProgrammingLanguageRepository.DeleteAsync(3);

        var actual = _v.ProgrammingLanguageRepository.ReadAsync().Result.Count;

        const int expected = 2;

        Assert.Equal(expected, actual);
    }

    #endregion

    #region Update

    /// &lt;summary&gt;
    ///     Defines the test method UpdateAsync_programmingLanguage_by_id_returns_status_updated.
    /// &lt;/summary&gt;
    [Fact]
    public async Task UpdateAsync_programmingLanguage_by_id_returns_status_updated()
    {
        var updateProgrammingLanguageDTO = new ProgrammingLanguageDTO(3, &quot;Java&quot;);

        var actual = await _v.ProgrammingLanguageRepository.UpdateAsync(updateProgrammingLanguageDTO);

        const Status expected = Status.Updated;

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method
    ///     UpdateAsync_programmingLanguage_by_id_read_updated_returns_status_found_and_updated_programmingLanguage.
    /// &lt;/summary&gt;
    [Fact]
    public async Task
        UpdateAsync_programmingLanguage_by_id_read_updated_returns_status_found_and_updated_programmingLanguage()
    {
        var updateProgrammingLanguageDTO = new ProgrammingLanguageDTO(3, &quot;Java&quot;);

        await _v.ProgrammingLanguageRepository.UpdateAsync(updateProgrammingLanguageDTO);

        var actual = await _v.ProgrammingLanguageRepository.ReadAsync(3);

        var expected = (Status.Found, updateProgrammingLanguageDTO);

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method UpdateAsync_programmingLanguage_by_id_returns_status_notFound.
    /// &lt;/summary&gt;
    [Fact]
    public async Task UpdateAsync_programmingLanguage_by_id_returns_status_notFound()
    {
        var updateProgrammingLanguageDTO = new ProgrammingLanguageDTO(4, &quot;Java&quot;);

        var actual = await _v.ProgrammingLanguageRepository.UpdateAsync(updateProgrammingLanguageDTO);

        const Status expected = Status.NotFound;

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method UpdateAsync_programmingLanguage_by_id_returns_status_conflict.
    /// &lt;/summary&gt;
    [Fact]
    public async Task UpdateAsync_programmingLanguage_by_id_returns_status_conflict()
    {
        var updateProgrammingLanguageDTO = new ProgrammingLanguageDTO(3, &quot;C#&quot;);

        var actual = await _v.ProgrammingLanguageRepository.UpdateAsync(updateProgrammingLanguageDTO);

        const Status expected = Status.Conflict;

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method UpdateAsync_programmingLanguage_returns_bad_request_on_name_tooLong.
    /// &lt;/summary&gt;
    [Fact]
    public async Task UpdateAsync_programmingLanguage_returns_bad_request_on_name_tooLong()
    {
        var programmingLanguage = new ProgrammingLanguageDTO(1, &quot;asseocarnisanguineoviscericartilaginonervomedullary&quot;);

        var actual = await _v.ProgrammingLanguageRepository.UpdateAsync(programmingLanguage);

        const Status expected = Status.BadRequest;

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method UpdateAsync_programmingLanguage_returns_bad_request_on_name_empty.
    /// &lt;/summary&gt;
    [Fact]
    public async Task UpdateAsync_programmingLanguage_returns_bad_request_on_name_empty()
    {
        var programmingLanguage = new ProgrammingLanguageDTO(1, &quot;&quot;);

        var actual = await _v.ProgrammingLanguageRepository.UpdateAsync(programmingLanguage);

        const Status expected = Status.BadRequest;

        Assert.Equal(expected, actual);
    }


    /// &lt;summary&gt;
    ///     Defines the test method UpdateAsync_programmingLanguage_returns_bad_request_on_name_whitespace.
    /// &lt;/summary&gt;
    [Fact]
    public async Task UpdateAsync_programmingLanguage_returns_bad_request_on_name_whitespace()
    {
        var programmingLanguage = new ProgrammingLanguageDTO(1, &quot; &quot;);

        var actual = await _v.ProgrammingLanguageRepository.UpdateAsync(programmingLanguage);

        const Status expected = Status.BadRequest;

        Assert.Equal(expected, actual);
    }

    /// &lt;summary&gt;
    ///     Defines the test method UpdateAsync_programmingLanguage_with_max_length_returns_updated.
    /// &lt;/summary&gt;
    [Fact]
    public async Task UpdateAsync_programmingLanguage_with_max_length_returns_updated()
    {
        var programmingLanguage = new ProgrammingLanguageDTO(1, &quot;asseocarnisanguineoviscericartilaginonervomedullar&quot;);

        var actual = await _v.ProgrammingLanguageRepository.UpdateAsync(programmingLanguage);

        const Status expected = Status.Updated;

        Assert.Equal(expected, actual);
    }

    #endregion
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[33,5,33,59,1],[34,5,34,6,1],[35,9,35,34,1],[36,5,36,6,1],[45,5,45,6,1],[46,9,46,76,1],[48,9,48,94,1],[50,9,50,80,1],[52,9,52,40,1],[53,5,53,6,1],[60,5,60,6,1],[61,9,61,74,1],[63,9,63,94,1],[65,9,65,79,1],[67,9,67,40,1],[68,5,68,6,1],[75,5,75,6,1],[76,9,76,76,1],[78,9,78,81,1],[80,9,80,80,1],[84,9,84,40,1],[85,5,85,6,1],[92,5,92,6,1],[93,9,94,101,1],[96,9,96,94,1],[98,9,99,100,1],[101,9,101,40,1],[102,5,102,6,1],[109,5,109,6,1],[110,9,110,72,1],[112,9,112,94,1],[114,9,114,80,1],[116,9,116,40,1],[117,5,117,6,1],[125,5,125,6,1],[126,9,126,73,1],[128,9,128,94,1],[130,9,130,81,1],[132,9,132,40,1],[133,5,133,6,1],[140,5,140,6,1],[141,9,142,100,1],[144,9,144,94,1],[146,9,147,98,1],[149,9,149,40,1],[150,5,150,6,1],[161,5,161,6,1],[162,9,162,74,1],[164,9,164,76,1],[166,9,166,40,1],[167,5,167,6,1],[174,5,174,6,1],[175,9,175,74,1],[177,9,177,78,1],[179,9,179,40,1],[180,5,180,6,1],[187,5,187,6,1],[188,9,188,73,1],[190,9,190,61,1],[191,9,191,62,1],[192,9,192,61,1],[194,9,195,39,1],[195,39,195,86,1],[195,86,196,39,1],[196,39,196,86,1],[196,86,197,39,1],[197,39,197,86,1],[197,86,197,88,1],[198,5,198,6,1],[209,5,209,6,1],[210,9,210,76,1],[214,9,214,40,1],[215,5,215,6,1],[222,5,222,6,1],[223,9,223,76,1],[227,9,227,40,1],[228,5,228,6,1],[235,5,235,6,1],[236,9,236,63,1],[238,9,238,80,1],[242,9,242,40,1],[243,5,243,6,1],[254,5,254,6,1],[255,9,255,82,1],[257,9,257,103,1],[261,9,261,40,1],[262,5,262,6,1],[271,5,271,6,1],[272,9,272,82,1],[274,9,274,90,1],[276,9,276,74,1],[278,9,278,69,1],[280,9,280,40,1],[281,5,281,6,1],[288,5,288,6,1],[289,9,289,82,1],[291,9,291,103,1],[295,9,295,40,1],[296,5,296,6,1],[303,5,303,6,1],[304,9,304,80,1],[306,9,306,103,1],[310,9,310,40,1],[311,5,311,6,1],[318,5,318,6,1],[319,9,319,120,1],[321,9,321,94,1],[325,9,325,40,1],[326,5,326,6,1],[333,5,333,6,1],[334,9,334,69,1],[336,9,336,94,1],[340,9,340,40,1],[341,5,341,6,1],[349,5,349,6,1],[350,9,350,70,1],[352,9,352,94,1],[356,9,356,40,1],[357,5,357,6,1],[364,5,364,6,1],[365,9,365,119,1],[367,9,367,94,1],[371,9,371,40,1],[372,5,372,6,1]]);
    </script>
  </body>
</html>