<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\andre\Source\School\BDSA2021-FinalProject\WebService.Core.Server.Tests\ControllerTests\TestVariables.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
// ***********************************************************************
// Assembly         : WebService.Core.Server.Tests
// Author           : Group BTG
// Created          : 11-29-2021
//
// Last Modified By : Group BTG
// Last Modified On : 12-14-2021
// ***********************************************************************
// &lt;copyright file=&quot;TestVariables.cs&quot; company=&quot;BTG&quot;&gt;
//     Copyright (c) . All rights reserved.
// &lt;/copyright&gt;
// &lt;summary&gt;&lt;/summary&gt;
// ***********************************************************************

using System;

namespace WebService.Core.Server.Tests.ControllerTests;

/// &lt;summary&gt;Class TestVariables.&lt;/summary&gt;
internal class TestVariables
{
    /// &lt;summary&gt;
    ///     Initializes a new instance of the &lt;see cref=&quot;T:WebService.Core.Server.Tests.ControllerTests.TestVariables&quot; /&gt;
    ///     class.
    /// &lt;/summary&gt;
    public TestVariables()
    {
        var connection = new SqliteConnection(&quot;Filename=:memory:&quot;);
        connection.Open();
        var builder = new DbContextOptionsBuilder&lt;Context&gt;();
        builder.UseSqlite(connection);
        var context = new Context(builder.Options);
        context.Database.EnsureCreated();

        var language1 = new Language(1, &quot;Danish&quot;);
        var language2 = new Language(2, &quot;English&quot;);
        var language3 = new Language(3, &quot;Swedish&quot;);

        var level1 = new Level(1, &quot;Bachelor&quot;);
        var level2 = new Level(2, &quot;Master&quot;);
        var level3 = new Level(3, &quot;PHD&quot;);

        var media1 = new Media(1, &quot;Book&quot;);
        var media2 = new Media(2, &quot;Report&quot;);
        var media3 = new Media(3, &quot;Video&quot;);

        var programmingLanguage1 = new ProgrammingLanguage(1, &quot;C#&quot;);
        var programmingLanguage2 = new ProgrammingLanguage(2, &quot;C++&quot;);
        var programmingLanguage3 = new ProgrammingLanguage(3, &quot;F#&quot;);


        var rating1 = new Rating(2, &quot;Rasmus&quot;);
        var rating2 = new Rating(5, &quot;Kim&quot;);
        var rating3 = new Rating(9, &quot;Poul&quot;);

        var weightedTag1 = new WeightedTag(&quot;SOLID&quot;, 10);
        var weightedTag2 = new WeightedTag(&quot;RAD&quot;, 50);
        var weightedTag3 = new WeightedTag(&quot;API&quot;, 90);

        var tag1 = new Tag(1, &quot;SOLID&quot;);
        var tag2 = new Tag(2, &quot;RAD&quot;);
        var tag3 = new Tag(3, &quot;API&quot;);

        const string summary1 = &quot;I am material 1&quot;;
        const string summary2 = &quot;I am material 2&quot;;
        const string summary3 = &quot;I am material 3&quot;;

        const string url1 = &quot;url1.com&quot;;
        const string url2 = &quot;url2.com&quot;;
        const string url3 = &quot;url3.com&quot;;

        var author1 = new Author(&quot;Rasmus&quot;, &quot;Kristensen&quot;);
        var author2 = new Author(&quot;Alex&quot;, &quot;Su&quot;);
        var author3 = new Author(&quot;Thor&quot;, &quot;Lind&quot;);

        const string content1 = &quot;null&quot;;
        const string content2 = &quot;null&quot;;
        const string content3 = &quot;null&quot;;

        var material1 = new Material(
            new List&lt;WeightedTag&gt; {weightedTag1},
            new List&lt;Rating&gt; {rating1},
            new List&lt;Level&gt; {level1},
            new List&lt;ProgrammingLanguage&gt; {programmingLanguage1},
            new List&lt;Media&gt; {media1},
            language1,
            summary1,
            url1,
            content1,
            &quot;Material 1&quot;,
            new List&lt;Author&gt; {author1},
            DateTime.UtcNow
        );
        var material2 = new Material
        (
            new List&lt;WeightedTag&gt; {weightedTag3, weightedTag1},
            new List&lt;Rating&gt; {rating3, rating1},
            new List&lt;Level&gt; {level3, level1},
            new List&lt;ProgrammingLanguage&gt; {programmingLanguage3, programmingLanguage1},
            new List&lt;Media&gt; {media3, media1},
            language3,
            summary2,
            url2,
            content3,
            &quot;Material 2&quot;,
            new List&lt;Author&gt; {author3, author1},
            DateTime.UtcNow.AddYears(-11).AddDays(10)
        );

        var material3 = new Material(
            new List&lt;WeightedTag&gt; {weightedTag3, weightedTag2, weightedTag1},
            new List&lt;Rating&gt; {rating3, rating2, rating1},
            new List&lt;Level&gt; {level3, level2, level1},
            new List&lt;ProgrammingLanguage&gt; {programmingLanguage3, programmingLanguage2, programmingLanguage1},
            new List&lt;Media&gt; {media3, media2, media1},
            language3,
            summary3,
            url3,
            content2,
            &quot;Material 3&quot;,
            new List&lt;Author&gt; {author3, author2, author1},
            DateTime.UtcNow
        );

        context.AddRange(language1, language2, language3, level1, level2, level3, media1, media2, media3,
            programmingLanguage1, programmingLanguage2, programmingLanguage3, rating1, rating2, rating3, tag1, tag2,
            tag3, material1, material2, material3);

        context.SaveChanges();

        LanguageRepository = new LanguageRepository(context);
        LevelRepository = new LevelRepository(context);
        MaterialRepository = new MaterialRepository(context);
        MediaRepository = new MediaRepository(context);
        ProgrammingLanguageRepository = new ProgrammingLanguageRepository(context);
        TagRepository = new TagRepository(context);
        SearchAlgorithm = new SearchAlgorithm(MaterialRepository, TagRepository);
    }

    public LanguageRepository LanguageRepository { get; }
    public LevelRepository LevelRepository { get; }
    public MaterialRepository MaterialRepository { get; }
    public MediaRepository MediaRepository { get; }
    public ProgrammingLanguageRepository ProgrammingLanguageRepository { get; }
    public TagRepository TagRepository { get; }
    public SearchAlgorithm SearchAlgorithm { get; }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[26,5,26,27,1],[27,5,27,6,1],[28,9,28,68,1],[29,9,29,27,1],[30,9,30,62,1],[31,9,31,39,1],[32,9,32,52,1],[33,9,33,42,1],[35,9,35,51,1],[36,9,36,52,1],[37,9,37,52,1],[39,9,39,47,1],[40,9,40,45,1],[41,9,41,42,1],[43,9,43,43,1],[44,9,44,45,1],[45,9,45,44,1],[47,9,47,69,1],[48,9,48,70,1],[49,9,49,69,1],[52,9,52,47,1],[53,9,53,44,1],[54,9,54,45,1],[56,9,56,57,1],[57,9,57,55,1],[58,9,58,55,1],[60,9,60,40,1],[61,9,61,38,1],[62,9,62,38,1],[72,9,72,58,1],[73,9,73,48,1],[74,9,74,50,1],[80,9,93,11,1],[94,9,108,11,1],[110,9,123,11,1],[125,9,127,52,1],[129,9,129,31,1],[131,9,131,62,1],[132,9,132,56,1],[133,9,133,62,1],[134,9,134,56,1],[135,9,135,84,1],[136,9,136,52,1],[137,9,137,82,1],[138,5,138,6,1],[140,52,140,56,1],[141,46,141,50,1],[142,52,142,56,1],[143,46,143,50,1],[144,74,144,78,1],[145,42,145,46,1],[146,46,146,50,1]]);
    </script>
  </body>
</html>