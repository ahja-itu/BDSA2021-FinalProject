# BDSA2021-FinalProject
This is the final project for the BDSA2021 course at ITU.

The vertical slice of this project is to provide the ability for users to search for software engineering training material. The main feature of this project is the search functionality that matches the users search input to the material contained in the database.

## Prerequisites and system requirements

In order to run this project, you need to have the following pieces of software installed, working and running:

- Docker
- DotNET 6.0
- Entity Framework Core tooling
- Powershell

This project has only been tested to work completely, mostly when also considering the PowerShell scripts, on Windows and you are adviced to run this off Windows too.

## Project publications

- To view the latest published code coverage report click [here](https://andreaswachs.github.io/BDSA2021-FinalProject/Documentation/CodeCoverageReport.html)
- To view the latest published code metrics analysis click [here](https://andreaswachs.github.io/BDSA2021-FinalProject/Documentation/CodeMetrics.xlsx)

## Run the project

To run the project, run the `start.ps1` file:

```pwsh
.\start.ps1
```

There is some startup time with this command, as the database and web server needs to be started synchonously.

Note: as a service to **you**, a web browser will open when the webserver comes online, when running this command. Unfortunately, you have to wait until for the webserver to fully seed the database, before you can proceed initially. Expect to be waitning on a "Loading..." screen for some moments until the web server is fully ready to serve web requests.

## Development

### Test user login

Email: test@itubdsabridgethegap.onmicrosoft.com
Password: 42_ER_1_TAL

### Running the database

This will generate a new connection string and store it as a user secret. Then it will run a Postgres DBMS docker container.

```pwsh
.\start_db.ps1
```

### Making migrations

```pwsh
.\migrate.ps1 NAME
``` 

### Updating the database

```pwsh
.\update_db.ps1
```

### Running the web server

This requires the database to be online and the update script to have been ran.

```pwsh
dotnet run --project .\WebService.Core\Server
```

## Documentation

This project leverages the [PlantUmlClassDiagramGenerator](https://github.com/pierre3/PlantUmlClassDiagramGenerator) library to create PlantUML diagrams from C# source files.
It is currently not fully compatible with C# 8+, so some diagrams are not correctly generated, so you will need to fix some files after a convertion.

To be able to work with PlantUML files, you need to install the PlantUML jar file to your system and various dependencies. You can read a guide on installing PlantUML on your local system [here](https://plantuml.com/starting).

To work with the documentation, you need to change directory from the root folder to `.\Documentation\UML`.


### Create PUML files

```pwsh
.\create_pumls.ps1
```

### Pull the PUML files from the autogenerated structure into the `CollectedPumls` folder

```pwsh
.\pull_pumls.ps1
```

### Convert PUML files to PNG images and move them into the `Images` folder

```pwsh
.\convert.ps1
```
